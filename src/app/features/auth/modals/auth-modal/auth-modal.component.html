<section
    class="bg-neutral-950 p-10 rounded-lg shadow-[0_0px_8px_2px] shadow-neutral-700/25 max-w-md h-fit w-full my-6 mx-4 flex flex-col items-center relative"
>
    <button
        type="button"
        class="absolute top-2 right-2 p-2 cursor-pointer hover:*:fill-neutral-300 hover:bg-neutral-900 rounded-lg transition-colors"
        (click)="close()"
    >
        <svg
            class="fill-neutral-500 transition-colors h-5 w-5"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M6.4 19L5 17.6L10.6 12L5 6.4L6.4 5L12 10.6L17.6 5L19 6.4L13.4 12L19 17.6L17.6 19L12 13.4L6.4 19Z"
            />
        </svg>
    </button>
    <div>
        <svg
            class="fill-neutral-200"
            width="55"
            height="52"
            viewBox="0 0 55 52"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M44.4215 39.7559L44.4213 39.7555C44.3894 39.7031 41.8158 35.6342 34.8532 39.3778C27.5144 43.3234 21.6477 39.7245 19.3362 36.2096C16.298 34.871 13.5802 32.5983 11.6923 29.4993C7.06018 21.8957 9.14327 12.2993 16.345 8.06492C23.5466 3.83057 33.1397 6.56175 37.7718 14.1653C42.4039 21.7688 40.3208 31.3651 33.1193 35.5994C29.8358 37.53 26.0578 37.998 22.4768 37.2312C24.7848 39.1111 28.7746 40.6813 34.0034 37.8699C42.3341 33.391 45.7814 38.8655 45.8261 38.9387L44.4215 39.7559ZM27.2945 13.0969C27.2155 11.424 25.8187 10.047 24.1747 10.0211C22.5306 9.99514 21.2617 11.3304 21.3406 13.003C21.4195 14.6759 22.8164 16.0529 24.4605 16.0788C26.1046 16.1047 27.3735 14.7695 27.2945 13.0969ZM19.699 18.8784C20.4526 17.4427 19.8773 15.5826 18.414 14.7238C16.9508 13.8649 15.1536 14.3326 14.3999 15.7684C13.6461 17.2042 14.2214 19.0642 15.6847 19.9231C17.1481 20.7818 18.9453 20.3141 19.699 18.8784ZM34.5068 16.085C33.6164 14.6234 31.7723 14.0984 30.3879 14.9124C29.0037 15.7262 28.6032 17.571 29.4936 19.0326C30.384 20.4942 32.2282 21.0191 33.6123 20.2053C34.9968 19.3913 35.3972 17.5466 34.5068 16.085ZM23.8219 20.3381C23.0403 20.7976 22.8142 21.8391 23.3169 22.6643C23.8196 23.4895 24.8608 23.7858 25.6423 23.3263C26.4238 22.8668 26.6499 21.8253 26.1472 21.0002C25.6445 20.175 24.6034 19.8786 23.8219 20.3381ZM19.9706 24.6319C19.0801 23.1702 17.236 22.6453 15.8517 23.4592C14.4672 24.2732 14.0668 26.1179 14.9573 27.5795C15.8477 29.0411 17.6917 29.5661 19.0762 28.7521C20.4606 27.9382 20.861 26.0934 19.9706 24.6319ZM35.0643 27.8962C35.8179 26.4604 35.2426 24.6004 33.7793 23.7415C32.3161 22.8827 30.5187 23.3504 29.7651 24.7862C29.0114 26.2219 29.5866 28.082 31.05 28.9408C32.5133 29.7996 34.3106 29.3319 35.0643 27.8962ZM28.1234 30.6615C28.0444 28.9887 26.6476 27.6116 25.0036 27.5857C23.3594 27.5598 22.0907 28.8949 22.1695 30.5676C22.2486 32.2404 23.6453 33.6174 25.2895 33.6433C26.9337 33.6693 28.2025 32.3343 28.1234 30.6615Z"
            />
        </svg>
    </div>
    @switch (view()) { @case ('login') {
    <h2 class="text-neutral-200 font-semibold text-xl uppercase tracking-wide mb-10">Login</h2>
    @if(this.alert().show) {
    <app-alert
        [type]="this.alert().type"
        [message]="this.alert().message"
        [dismissible]="true"
        (dismissed)="this.alert().show = false"
        class="w-full mb-6"
    ></app-alert>
    }
    <app-login-form
        (loginSubmit)="onLogin($event)"
        class="w-full"
        [isLoading]="loading()"
    ></app-login-form>
    <span class="block max-w-20 w-full h-[1px] my-7 rounded-lg bg-neutral-700"></span>
    <p class="text-sm text-neutral-500">
        Não tem uma conta?
        <button
            type="button"
            class="hover:underline hover:underline-offset-4 text-rose-500 cursor-pointer"
            (click)="setView('register')"
        >
            Crie uma conta
        </button>
    </p>
    } @case ('register') {
    <h2 class="text-neutral-200 font-semibold text-xl uppercase tracking-wide mb-10">
        Criar conta
    </h2>
    @if(this.alert().show) {
    <app-alert
        [type]="this.alert().type"
        [message]="this.alert().message"
        (dismissed)="this.alert().show = false"
        class="w-full mb-6"
    ></app-alert>
    }
    <app-register-form
        (registerSubmit)="onRegister($event)"
        class="w-full"
        [isLoading]="loading()"
    ></app-register-form>
    <span class="block max-w-20 w-full h-[1px] my-7 rounded-lg bg-neutral-700"></span>
    <p class="text-sm text-neutral-500">
        Já tem uma conta?
        <button
            type="button"
            class="hover:underline hover:underline-offset-4 text-rose-500 cursor-pointer"
            (click)="setView('login')"
        >
            Entre aqui
        </button>
    </p>
    } }
</section>
